{"version":3,"sources":["webpack://@aelea/website/./src/pages/examples/ethSwap/$elements.ts","webpack://@aelea/website/../ui-components/src/utils/elementObservers.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/provider.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/utils.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/transaction.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/components/$Transaction.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/account.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/components/$ConnectAccount.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/address/symbol.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/address/contract.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/ethers-contracts/factories/EthExrd__factory.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/ethers-contracts/factories/EthSushi__factory.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/address/token.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/api/contract.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/state.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/components/$tokenList.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/components/$TokenInput.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/components/$CreateTransaction.ts","webpack://@aelea/website/../ui-components/.dist/esm/components/form/$Slider.js","webpack://@aelea/website/./src/pages/examples/ethSwap/$MetamaskSend.ts","webpack://@aelea/website/./src/pages/examples/ethSwap/components/$Confirmation.ts"],"names":["$cryptoIcon","$content","size","viewBox","$icon","fill","width","svgOps","style","minWidth","$g","$path","$caretDown","d","$caretDblDown","$circle","$xrd","$usdt","$eth","$sushi","$spinner","margin","height","borderRadius","border","boxShadow","backgroundColor","animation","$gaugeMetric","value","styleCSS","animateChange","attrAniamtion","n","strokeDasharray","stroke","display","strokeWidth","$tokenLabel","token","$label","layoutSheet","cursor","alignItems","fontWeight","symbol","fontSize","color","label","whiteSpace","textOverflow","overflow","$labeledDivider","placeContent","flex","borderBottom","documentVisibilityChange","document","documentVisible","visibilityState","documentHidden","duringWindowActivity","source","sourceUntilInactivity","activity","CHAIN","provider","async","metamask","Error","w3p","err","console","error","at","noProviderAlert","providerAction","interval","actionOp","tx","O","zXAdressRegxp","validFractionalNumberRegxp","ETH","ETH_KOVAN","ETH_ROPSTEN","BSC","BSC_TESTNET","zeros","length","isAddress","address","test","getMultiplier","decimals","substring","bnToHex","hex","toString","formatFixed","multiplier","multiplierBn","BigInt","parsedValue","negative","fraction","matchFractions","match","parseFixed","multiplierLength","comps","split","whole","wholeValue","fractionValue","wei","$status","fontStyle","padding","$success","src","$pending","$failed","eventName","action","eventChange","fromCallback","cb","on","removeListener","ev","networkChange","_chainId","window","location","reload","getNetwork","initialNetwork","p","network","initialAccountList","listAccounts","accountListChange","_accountHash","accountList","account","requestAccounts","request","method","$accountAlert","title","$description","marginBottom","$installMetamaskWarning","href","$AccountConnectivity","component","requestWallet","requestWalletTeter","$connectButton","$Button","click","errorOrProvider","requestNetRes","undefined","chainId","slice","addres","cnt","parseInt","el","$jazzicon","SYMBOL","EXRD","SUSHI","USDC","USDT","_abi","inputs","internalType","name","type","stateMutability","anonymous","indexed","outputs","EthExrd__factory","signerOrProvider","abi","EthSushi__factory","formatBN","bnb","toBigInt","skipRepeatedBns","bn1","bn2","eq","mainchainBalance","accountHash","getBalance","mainchainBalanceReadable","baseActions","contractFactory","contract","signer","getSigner","accountAndContract","state","balanceSource","balanceOf","balance","balanceReadable","listen","off","ethContracts","MAINCHAIN","to","amount","awaitProvider","w3","params","from","connect","cont","transfer","this","tokenList","$TokenInput","changeInput","change","changeTether","switchTokenPopover","switchTokenPopoverTether","switchToken","switchTokenTether","$tokenList","list","choose","chooseTether","scrollRequest","scrollRequestTether","filterListInput","filterListInputTether","filterWithInitial","$TextField","filter","$VirtualScroll","containerOps","dataSource","$items","obj","text","Object","values","find","toLocaleLowerCase","indexOf","objectValuesContainsText","map","changeTokenBehavior","pageSize","selectedBalance","$Popover","$$popContent","dismiss","t","$Field","fieldStyle","borderBottomColor","inputOp","placeholder","$CreateTransaction","inputValueChange","inputValueChangeTether","clickOnDivide","clickOnDivideTether","divideBySlider","divideBySliderTether","switchTokenSource","switchTokenSourceTether","destination","destinationTether","send","sendTether","clipboardInput","clipboardInputTether","initialTokenValue","divideBalanceReadableBySlider","divide","divWithBigInt","Math","round","valueReadable","divideByInput","inputValue","Number","transaction","x","sendTransaction","sliceAmount","$allocateDivisionPopover","step","sliderThunmbStyle","appearance","transition","outline","background","evt","target","min","max","node","val","element","String","$Slider","focusEvent","navigator","clipboard","readText","catch","clipBoard","textAlign","disabled","s","$EtherSwapExample","backToMainClick","backToMainClickClick","txHash","sampleTxHash","accountTether","initialSwapCard","maxWidth","swapState","confirm","confirmTether","back","backTether","paddingTop","close","sampleTether","txDetails","getTransactionReceipt","getTxDetails","confirmations","details","status","isInteger","$NumberTicker","incrementColor","decrementColor","value$","padRight","padLeft","shortenAddress","$Transaction","hash"],"mappings":"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","file":"40.c2aedd52b43905c699b7.js","sourcesContent":["import { $svg, attr, StyleCSS, motion, MOTION_NO_WOBBLE, styleInline, style, $node, $text, $Node } from \"@aelea/core\"\nimport { $column, $icon, $row, layoutSheet } from \"@aelea/ui-components\"\nimport { pallete } from \"@aelea/ui-components-theme\"\nimport { empty, map } from \"@most/core\"\nimport { Stream } from \"@most/types\"\nimport { Token } from \"./types\"\n\nconst $cryptoIcon = ($content: $Node, size = '32px', viewBox = '0 0 32 32') => $icon({\n  $content,\n  fill: pallete.message,\n  width: size,\n  viewBox,\n  svgOps: style({\n    minWidth: '32px'\n  }),\n})\n\nconst $g = $svg('g')\n\nexport const $path = $svg('path')\n\n\nexport const $caretDown = $path(attr({ d: 'M4.616.296c.71.32 1.326.844 2.038 1.163L13.48 4.52a6.105 6.105 0 005.005 0l6.825-3.061c.71-.32 1.328-.84 2.038-1.162l.125-.053A3.308 3.308 0 0128.715 0a3.19 3.19 0 012.296.976c.66.652.989 1.427.989 2.333 0 .906-.33 1.681-.986 2.333L18.498 18.344a3.467 3.467 0 01-1.14.765c-.444.188-.891.291-1.345.314a3.456 3.456 0 01-1.31-.177 2.263 2.263 0 01-1.038-.695L.95 5.64A3.22 3.22 0 010 3.309C0 2.403.317 1.628.95.98c.317-.324.68-.568 1.088-.732a3.308 3.308 0 011.24-.244 3.19 3.19 0 011.338.293z' }))()\nexport const $caretDblDown = $path(attr({ d: 'M15.97 28.996c-.497 0-.983-.176-1.37-.493L1.77 17.793a2.15 2.15 0 01-.275-3.021 2.142 2.142 0 013.017-.276l11.465 9.6 11.464-9.254a2.143 2.143 0 013.011.311l.006.012a2.14 2.14 0 01-.175 3.022l-.124.106-12.83 10.345c-.41.258-.884.387-1.358.358z M15.97 18.996c-.497 0-.983-.176-1.37-.493L1.77 7.793a2.15 2.15 0 01-.275-3.021 2.142 2.142 0 013.017-.276l11.465 9.6L27.44 4.842a2.143 2.143 0 013.011.311l.006.012a2.14 2.14 0 01-.175 3.022l-.124.106-12.83 10.345c-.41.258-.884.387-1.358.358z' }))()\n\n\nexport const $circle = $path(attr({ d: 'M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831' }))\n\n\nexport const $xrd = $cryptoIcon(\n  $path(attr({ d: 'M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16zm-3.825-7.457c.175.286.525.457.875.457h.117c.408-.057.7-.286.875-.629l5.891-13.2H26V9h-6.767a1.08 1.08 0 00-.991.629l-5.425 12.114-3.559-4.8c-.175-.286-.525-.457-.875-.457H5v2.171h2.8l4.375 5.886z' }))()\n)\nexport const $usdt = $cryptoIcon(\n  $path(attr({ d: 'M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16zm1.057-12.972v-5.86h.77c2.545 0 3.172-2.373 3.172-2.373h-6.683c-3.172 0-3.71 2.374-3.71 2.374h3.943v8.817s2.508-.753 2.508-2.958zm7.338 4.566c2.248-2.336 3.11-5.58 2.301-8.683a9.339 9.339 0 00-2.48-4.28c-.108-.106-.216-.214-.342-.32l-.108-.107a2.185 2.185 0 00-.234-.196l-.144-.107-.215-.16-.127-.09a4.15 4.15 0 01-.251-.178l-.163-.106a1.38 1.38 0 00-.215-.125l-.162-.107c-.072-.036-.144-.09-.216-.125l-.162-.09a2.52 2.52 0 00-.234-.106l-.055-.018c.198.16.395.339.575.517a8.75 8.75 0 010 12.427c-4.386 4.35-11.505 4.35-15.893 0-.162-.16-.306-.32-.467-.48l-.126-.143a5.762 5.762 0 01-.27-.339 11.856 11.856 0 002.176 2.995c4.584 4.546 12.026 4.546 16.61 0a.614.614 0 00.202-.18zM10.4 22.386a8.168 8.168 0 01-.576-.517 8.758 8.758 0 010-12.439c4.391-4.354 11.516-4.354 15.907 0 .306.304.593.625.863.964a11.784 11.784 0 00-2.177-2.98c-4.588-4.551-12.038-4.551-16.626 0-.054.053-.108.125-.18.178-3.041 3.177-3.455 7.924-1.025 11.529.954 1.39 2.284 2.55 3.814 3.265z'  }))()\n)\nexport const $eth = $cryptoIcon(\n  $g(\n    $path(attr({ d: 'M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16zm7.994-15.781L16.498 4 9 16.22l7.498 4.353 7.496-4.354zM24 17.616l-7.502 4.351L9 17.617l7.498 10.378L24 17.616z' }))(),\n    $path(attr({ 'fill-opacity': '.298', d: 'M16.498 4v8.87l7.497 3.35zm0 17.968v6.027L24 17.616z' }))(),\n    $path(attr({ 'fill-opacity': '.801', d: 'M16.498 20.573l7.497-4.353-7.497-3.348z' }))(),\n    $path(attr({ 'fill-opacity': '.298', d: 'M9 16.22l7.498 4.353v-7.701z' }))(),\n  )\n)\n\n\nexport const $sushi = $cryptoIcon(\n  $path(attr({ 'fill-rule': 'evenodd', d: 'M16 32c8.837 0 16-7.163 16-16S24.837 0 16 0 0 7.163 0 16s7.163 16 16 16zM13.156 6.023c-1.562-.123-2.77.256-3.396 1.116l-4.302 5.897c-.625.86-.604 2.11.021 3.522.865 1.945 2.865 4.249 5.615 6.174 2.74 1.935 5.604 3.061 7.76 3.245 1.552.123 2.77-.256 3.396-1.116l4.291-5.897c.625-.86.605-2.11-.02-3.522-.854-1.945-2.865-4.249-5.604-6.184-2.75-1.925-5.605-3.061-7.76-3.235zm12.698 9.706c.49 1.126.594 2.13.094 2.805l-.032.051c-.51.645-1.479.86-2.708.768-2.052-.164-4.77-1.26-7.385-3.102-2.615-1.843-4.542-4.024-5.365-5.887-.49-1.106-.593-2.079-.125-2.765l.021-.04c.5-.687 1.49-.912 2.74-.81 2.052.164 4.77 1.26 7.385 3.103 2.625 1.843 4.552 4.024 5.375 5.877zm-3.906-1.26c-.406-.931-1.375-2.027-2.688-2.948-1.302-.922-2.666-1.465-3.687-1.557-.583-.04-1.052.052-1.281.369-.23.317-.167.778.062 1.3.406.932 1.375 2.017 2.688 2.939 1.312.921 2.666 1.474 3.697 1.556.573.051 1.042-.041 1.271-.358.24-.318.177-.778-.062-1.3zM9.484 9.24a.155.155 0 00-.163-.148.155.155 0 00-.15.16l.011.167a.155.155 0 00.168.141.154.154 0 00.144-.165 4.145 4.145 0 01-.01-.155zm.046.465a.156.156 0 00-.178-.13.154.154 0 00-.131.176c.198 1.288.931 2.526 1.848 3.64a.158.158 0 00.22.024.152.152 0 00.023-.216c-.901-1.096-1.596-2.284-1.782-3.494zm4.661 6.323a.158.158 0 00-.22.016.152.152 0 00.016.217l.125.105c.052.044.105.087.159.13a.158.158 0 00.22-.02.152.152 0 00-.021-.216 12.421 12.421 0 01-.155-.128l-.124-.104zm.596.482a.158.158 0 00-.22.027.152.152 0 00.028.215c1.313 1.006 2.906 1.885 4.488 2.514a.157.157 0 00.203-.085.153.153 0 00-.086-.2c-1.558-.619-3.125-1.484-4.413-2.47zm9.576 3.71a.154.154 0 00.13-.176.156.156 0 00-.18-.128c-.063.01-.128.02-.195.027a.157.157 0 00-.112.066.151.151 0 00-.026.103c.01.085.087.145.173.136a4.56 4.56 0 00.21-.028z' }))(),\n)\n\nexport const $spinner = $node(style({\n  margin: '0 auto',\n  width: '55px',\n  height: '55px',\n  borderRadius: '50%',\n  border: '4px #fff dashed',\n  boxShadow: 'inset 0px 0px 0px 3px #fff',\n  backgroundColor: 'transparent',\n  animation: 'spinner 5s linear infinite',\n}))()\n\nexport interface Gauge {\n  styleCSS?: StyleCSS\n  size?: string\n  value: Stream<number>\n}\n\nexport const $gaugeMetric = ({ value, size = '24px', styleCSS }: Gauge) => {\n\n  const animateChange = motion(MOTION_NO_WOBBLE, 0, value)\n  const attrAniamtion = styleInline(map(n => ({\n    strokeDasharray: `${n * 100}, 100`,\n    stroke: n > 1 ? pallete.negative : ''\n  }), animateChange))\n\n  return $svg('svg')(style({ display: 'block', width: size, height: size, ...styleCSS }), attr({ viewBox: '0 0 36 36' }))(\n    $circle(style({ fill: 'none', stroke: pallete.middleground, strokeWidth: '3.8' }))(),\n    $circle(style({ fill: 'none', stroke: pallete.foreground, strokeWidth: '3.8' }), attrAniamtion)()\n  )\n}\n\n\nexport const $tokenLabel = (token: Token, $label?: $Node) => {\n  return $row(layoutSheet.spacing, style({ cursor: 'pointer', alignItems: 'center' }))(\n    token.$icon,\n    $column(layoutSheet.flex)(\n      $text(style({ fontWeight: 'bold' }))(token.symbol),\n      $text(style({ fontSize: '75%', color: pallete.foreground }))(token.label)\n    ),\n    style({ whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: 'hidden' }, $label || empty())\n  )\n}\n\nexport const $labeledDivider = (label: string) => {\n  return $row(layoutSheet.spacing, style({ placeContent: 'center', alignItems: 'center' }))(\n    $column(style({ flex: 1, borderBottom: `1px solid ${pallete.middleground}` }))(),\n    $row(layoutSheet.spacingSmall, style({ color: pallete.foreground, alignItems: 'center' }))(\n      $text(style({ fontSize: '75%' }))(label),\n      $icon({ $content: $caretDblDown, width: '10px', viewBox: '0 0 32 32', fill: pallete.foreground }),\n    ),\n    $column(style({ flex: 1, borderBottom: `1px solid ${pallete.middleground}` }))(),\n  )\n}","import { eventElementTarget, IBranch, IBranchElement } from \"@aelea/core\"\nimport { chain, constant, continueWith, filter, switchLatest, until } from \"@most/core\"\nimport { disposeWith } from \"@most/disposable\"\nimport { Stream } from \"@most/types\"\n\n\n\n\n// https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/948/files\ndeclare interface ResizeObserverEntry {\n  readonly borderBoxSize: ReadonlyArray<ResizeObserverSize>;\n  readonly contentBoxSize: ReadonlyArray<ResizeObserverSize>;\n  readonly contentRect: DOMRectReadOnly;\n  readonly target: Element;\n}\n\ndeclare interface ResizeObserverSize {\n  readonly blockSize: number;\n  readonly inlineSize: number;\n}\n\n\nexport const intersection = (config: IntersectionObserverInit = {}) => chain(<A extends IBranchElement>(node: IBranch<A>): Stream<IntersectionObserverEntry[]> => ({\n  run(sink, scheduler) {\n\n    const intersectionObserver = new IntersectionObserver(entries => {\n      sink.event(scheduler.currentTime(), entries)\n    }, config)\n\n    intersectionObserver.observe(node.element)\n\n    return disposeWith(([instance, el]) => instance.unobserve(el), [intersectionObserver, node.element] as const)\n  }\n}))\n\nexport const resize = (config: ResizeObserverOptions = {}) => chain(<A extends IBranchElement>(node: IBranch<A>): Stream<ResizeObserverEntry[]> => ({\n  run(sink, scheduler) {\n\n    const ro = new ResizeObserver(entries => {\n      sink.event(scheduler.currentTime(), entries)\n    })\n\n    ro.observe(node.element, config)\n\n    return disposeWith(([instance, el]) => instance.unobserve(el), [ro, node.element] as const)\n  }\n}))\n\nexport const mutation = (config: MutationObserverInit = { attributes: true, childList: false, subtree: false }) =>\n  chain(<A extends IBranchElement>(node: IBranch<A>): Stream<MutationRecord[]> => ({\n    run(sink, scheduler) {\n\n      const ro = new MutationObserver(entries => {\n        sink.event(scheduler.currentTime(), entries)\n      })\n\n      ro.observe(node.element, config)\n\n      return disposeWith(instance => instance.disconnect(), ro)\n    }\n  }))\n\n\nconst documentVisibilityChange = eventElementTarget('visibilitychange', document)\nconst documentVisible = filter(() => document.visibilityState === 'visible', documentVisibilityChange)\nconst documentHidden = filter(() => document.visibilityState === 'hidden', documentVisibilityChange)\n\n\nexport const duringWindowActivity = <T>(source: Stream<T>) => {\n  const sourceUntilInactivity = until(documentHidden, source)\n  const activity = continueWith((): Stream<T> => switchLatest(constant(activity, documentVisible)), sourceUntilInactivity)\n  return activity\n}\n\n","import { fromCallback, O, Op } from \"@aelea/core\"\nimport { duringWindowActivity } from \"@aelea/ui-components/src/utils/elementObservers\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport detectEthereumProvider from \"@metamask/detect-provider\"\nimport { awaitPromises, now, at, map, chain, recoverWith, continueWith, switchLatest, take } from \"@most/core\"\nimport { disposeWith } from \"@most/disposable\"\nimport { Stream } from \"@most/types\"\n\nexport enum CHAIN {\n  ETH = 1,\n  ETH_ROPSTEN = 3,\n  ETH_KOVAN = 42,\n  BSC = 56,\n  BSC_TESTNET = 97\n}\n\nexport type InitWalletProvider = {\n  w3p: Web3Provider;\n  metamask: any;\n}\n\n\n\nexport const provider = awaitPromises(\n  map(async () => {\n    const metamask: any | null = await detectEthereumProvider()\n\n    if (metamask === null) {\n      throw new Error('No provider')\n    }\n\n    const w3p = new Web3Provider(metamask)\n\n    return { w3p, metamask } as InitWalletProvider\n  }, now(null))\n)\n\n// TODO(await fix) ATM recovering from provider failure is not possible with metamask\nexport const awaitProvider: typeof provider = duringWindowActivity(\n  recoverWith(err => {\n    console.error(err)\n    return chain(() => awaitProvider, at(3000, null))\n  }, provider)\n)\n\nexport const noProviderAlert: Stream<Error> = recoverWith(error => now(error), provider)\n\n\nexport const providerAction = <T>(interval: number, actionOp: Op<InitWalletProvider, Promise<T>>) => {\n  const tx: Stream<T> = O(\n    actionOp,\n    take(1),\n    awaitPromises,\n    recoverWith(err => {\n      console.error(err)\n      return switchLatest(at(1500, tx))\n    }),\n    continueWith(() => {\n      return switchLatest(at(interval, tx))\n    }),\n  )(awaitProvider)\n  return duringWindowActivity(tx)\n}\n\nexport const metamaskEvent = <A>(eventName: string): Stream<A> => switchLatest(\n  map(provider => {\n    const eventChange: Stream<A> = fromCallback(cb => {\n      provider.metamask.on(eventName, cb)\n      return disposeWith(() => provider.metamask.removeListener(eventName, cb), null)\n    })\n\n    return O(\n    )(eventChange)\n  }, awaitProvider)\n)\n","import { CHAIN } from \"./provider\"\n\nconst zXAdressRegxp = /^(0x)?[0-9a-fA-F]{40}$/\nconst validFractionalNumberRegxp = /^-?(0|[1-9]\\d*)(\\.\\d+)?$/\n\nexport const EXPLORER_URL = {\n  [CHAIN.ETH]: \"https://etherscan.io/\",\n  [CHAIN.ETH_KOVAN]: \"https://kovan.etherscan.io/\",\n  [CHAIN.ETH_ROPSTEN]: \"https://ropsten.etherscan.io/\",\n  [CHAIN.BSC]: \"https://bscscan.com/\",\n  [CHAIN.BSC_TESTNET]: \"https://testnet.bscscan.com/\",\n} as const\n\n\n\n// Constant to pull zeros from for multipliers\nlet zeros = \"0\"\nwhile (zeros.length < 256) { zeros += zeros }\n\nexport function isAddress(address: string) {\n  return zXAdressRegxp.test(address)\n}\n\nexport function shortenAddress(address: string, padRight = 4, padLeft = 6) {\n  return address.slice(0, padLeft) + \"...\" + address.slice(address.length -padRight, address.length)\n}\n\n\nexport function shortenTxAddress(address: string) {\n  return shortenAddress(address, 8, 6)\n}\n\nexport function expandDecimals(n: bigint, decimals: number) {\n  return n * (10n ** BigInt(decimals))\n}\n\nfunction getMultiplier(decimals: number): string {\n  if (decimals >= 0 && decimals <= 256 && !(decimals % 1)) {\n    return (\"1\" + zeros.substring(0, decimals))\n  }\n\n  throw new Error(\"invalid decimal size\")\n}\n\n/* converts bigInt(positive) to hex */\nexport function bnToHex(n: bigint) {\n  if (n < 0n) {\n    throw new Error('expected positive integer')\n  }\n\n  let hex = n.toString(16)\n  if (hex.length % 2) {\n    hex = '0' + hex\n  }\n  return hex\n}\n\nexport function formatFixed(value: bigint, decimals = 18): string {\n  const multiplier = getMultiplier(decimals)\n  const multiplierBn = BigInt(multiplier)\n  let parsedValue = ''\n\n  const negative = value < 0n\n  if (negative) { value = value * -1n }\n\n  let fraction = (value % multiplierBn).toString()\n\n  while (fraction.length < multiplier.length - 1) {\n    fraction = \"0\" + fraction\n  }\n\n  const matchFractions = fraction.match(/^([0-9]*[1-9]|0)(0*)/)!\n  fraction = matchFractions[1]\n\n  const whole = (value / multiplierBn).toString()\n\n  parsedValue = whole + \".\" + fraction\n\n  if (negative) {\n    parsedValue = \"-\" + value\n  }\n\n  return parsedValue\n}\n\nexport function parseFixed (value: string, decimals = 18) {\n  const multiplier = getMultiplier(decimals)\n  const multiplierLength = multiplier.length\n\n  if (!validFractionalNumberRegxp.test(value)) {\n    throw new Error('invalid fractional value')\n  }\n\n  if (multiplier.length - 1 === 0) {\n    return BigInt(value)\n  }\n\n  const negative = (value.substring(0, 1) === \"-\")\n  if (negative) {\n    value = value.substring(1)\n  }\n  const comps = value.split(\".\")\n\n  let whole = comps[0]\n  let fraction = comps[1]\n\n  if (!whole) { whole = \"0\" }\n  if (!fraction) { fraction = \"0\" }\n\n  // Prevent underflow\n  if (fraction.length > multiplierLength - 1) {\n    throw new Error('fractional component exceeds decimals')\n  }\n\n  // Fully pad the string with zeros to get to wei\n  while (fraction.length < multiplierLength - 1) { fraction += \"0\" }\n\n  const wholeValue = BigInt(whole)\n  const fractionValue = BigInt(fraction)\n\n  let wei = (wholeValue * BigInt(multiplier)) + fractionValue\n\n  if (negative) {\n    wei = wei - -1n\n  }\n\n  return wei\n}\n\nexport const trimZeroDecimals = (amount: string) => {\n  if (parseFloat(amount) === parseInt(amount)) {\n    return parseInt(amount).toString()\n  }\n  return amount\n}\n\nexport const limitDecimals = (amount: string, maxDecimals: number) => {\n  let amountStr = amount.toString()\n\n  if (maxDecimals === 0) {\n    return amountStr.split(\".\")[0]\n  }\n  const dotIndex = amountStr.indexOf(\".\")\n  if (dotIndex !== -1) {\n    const decimals = amountStr.length - dotIndex - 1\n    if (decimals > maxDecimals) {\n      amountStr = amountStr.substr(0, amountStr.length - (decimals - maxDecimals))\n    }\n  }\n  return amountStr\n}\n\nexport const padDecimals = (amount: string, minDecimals: number) => {\n  let amountStr = amount.toString()\n  const dotIndex = amountStr.indexOf(\".\")\n  if (dotIndex !== -1) {\n    const decimals = amountStr.length - dotIndex - 1\n    if (decimals < minDecimals) {\n      amountStr = amountStr.padEnd(amountStr.length + (minDecimals - decimals), \"0\")\n    }\n  } else {\n    amountStr = amountStr + \".0000\"\n  }\n  return amountStr\n}\n\n\n\n\nexport function getAccountUrl(chainId: CHAIN, account: string) {\n  if (!account) {\n    return EXPLORER_URL[chainId]\n  }\n  return EXPLORER_URL[chainId] + \"address/\" + account\n}\n\n\n\n","import { map } from \"@most/core\"\nimport { providerAction } from \"./provider\"\n\nexport const getTxDetails = (txHash: string) => providerAction(350, map(w3 => w3.w3p.getTransactionReceipt(txHash)))\n\n","import { O } from \"@aelea/core\"\nimport { $element, $text, attr, Behavior, component, style } from \"@aelea/core\"\nimport { $Button, $column, $NumberTicker, $row, layoutSheet } from \"@aelea/ui-components\"\nimport { pallete } from \"@aelea/ui-components-theme\"\nimport { TransactionReceipt } from \"@ethersproject/providers\"\nimport { filter } from \"@most/core\"\nimport { map, skipRepeats, startWith, switchLatest } from \"@most/core\"\nimport { getTxDetails } from \"../api/transaction\"\nimport { shortenTxAddress } from \"../api/utils\"\nimport { $spinner } from \"../$elements\"\n\n\n\n\nconst $status = $text(style({ color: pallete.foreground, fontStyle: 'italic', fontSize: '19px', padding: '3px 0' }))\n\nconst $success = $column(\n  $element('img')(style({ margin: '0 auto' }), attr({\n    // use as static instead data-uri\n    src: 'data:image/png;base64,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',\n    width: '55px',\n    height: '55px'\n  }))(),\n  $status(`Success`)\n)\n\nconst $pending = $column(\n  $spinner,\n  $status(`Pending`)\n)\n\nconst $failed = $status(style({ color: pallete.negative }))()\n\n\nexport const $Transaction = (txHash: string) => component((\n  [close, sampleTether]: Behavior<any, any>,\n) => {\n\n  const txDetails = getTxDetails(txHash)\n  const confirmations = map(details => details?.confirmations ?? 0, txDetails)\n\n  const $status = O(\n    map((details: TransactionReceipt) => details?.status),\n    skipRepeats,\n    filter(status => Number.isInteger(status)),\n    map(status => {\n      return status === 1 ? $success : $failed\n    }),\n    startWith($pending),\n    switchLatest\n  )(txDetails)\n\n\n  return [\n    $column(layoutSheet.spacingBig, style({ alignItems: 'center' }))(\n      $text(style({ fontSize: '25px' }))(\n        'Transaction Details'\n      ),\n\n      $status,\n\n      $row(layoutSheet.spacingTiny)(\n        $text('Confirmations: '),\n        $NumberTicker({ incrementColor: pallete.positive, decrementColor: pallete.message, value$: confirmations })\n      ),\n\n      $row(layoutSheet.spacing)(\n        $text('Tx Hash: '),\n        $element('a')(style({ color: pallete.primary }), attr({ href: 'https://ropsten.etherscan.io/tx/' + txHash }))(\n          $text(shortenTxAddress(txHash))\n        )\n      ),\n\n      $Button({ $content: $text('Close') })({\n        click: sampleTether()\n      })\n\n    ),\n    { close }\n  ]\n})","import { O } from \"@aelea/core\"\nimport { fromCallback } from \"@aelea/core\"\nimport { Network } from \"@ethersproject/providers\"\nimport { awaitPromises, map, merge, switchLatest } from \"@most/core\"\nimport { disposeWith } from \"@most/disposable\"\nimport { Stream } from \"@most/types\"\nimport { awaitProvider, InitWalletProvider } from \"./provider\"\nimport { Address } from \"./types\"\n\nconst metamaskEvent = <A, B = unknown>(eventName: string, action: (a: Stream<[InitWalletProvider, A]>) => Stream<Promise<B>>) => switchLatest(\n  map(provider => {\n    const eventChange: Stream<A> = fromCallback(cb => {\n      provider.metamask.on(eventName, cb)\n      return disposeWith(() => provider.metamask.removeListener(eventName, cb), null)\n    })\n\n    return O(\n      map((ev: A) => [provider, ev]),\n      action,\n      awaitPromises,\n    )(eventChange)\n  }, awaitProvider)\n)\n\nconst networkChange = metamaskEvent<string, Network>('chainChanged', map(([provider, _chainId]) => {\n  // ethers.js does not support provider switch, hacky reload is required.. pffft\n  window.location.reload()\n\n  return provider.w3p.getNetwork()\n}))\nconst initialNetwork = awaitPromises(map(p => p.w3p.getNetwork(), awaitProvider))\nexport const network = merge(initialNetwork, networkChange)\n\nconst initialAccountList = awaitPromises(map(p => p.w3p.listAccounts(), awaitProvider))\nconst accountListChange = metamaskEvent<string, string[]>('accountsChanged', map(([provider, _accountHash]) => provider.w3p.listAccounts()))\n\nexport const accountList = merge(initialAccountList, accountListChange)\nexport const account: Stream<Address> = map(accountList => accountList[0], accountList)\n\nexport const requestAccounts: Stream<string[]> = awaitPromises(\n  map(provider => {\n    return provider.metamask.request({ method: 'eth_requestAccounts' })\n  }, awaitProvider)\n)\n\nexport const addEthereumChain = (chainId = '0x56'): Stream<string[]> => awaitPromises(\n  map(provider => {\n    return provider.metamask.request({\n      method: 'wallet_addEthereumChain', params: [\n        {\n          chainId,\n          chainName: 'Binance Smart Chain',\n          nativeCurrency: { name: 'BNB', symbol: 'BNB', decimals: 18 },\n          rpcUrls: ['https://bsc-dataseed.binance.org/'],\n          blockExplorerUrls: ['https://bscscan.com/']\n        }\n      ]\n    })\n  }, awaitProvider)\n)\n\n\n","import { $text, component, style, Behavior, $Node, $Branch, $node, attr } from \"@aelea/core\"\nimport { $Button, $column, $row, layoutSheet } from \"@aelea/ui-components\"\nimport { pallete } from \"@aelea/ui-components-theme\"\nimport { combine, map, merge, switchLatest } from \"@most/core\"\nimport { network, account, requestAccounts } from \"../api/account\"\nimport { awaitProvider, noProviderAlert } from \"../api/provider\"\nimport { $wrapNativeElement } from \"@aelea/core\"\n// @ts-ignore\nimport jazzicon from 'jazzicon'\nimport { $alert, $anchor } from \"../../../../elements/$common\"\n\n\nexport function $jazzicon(addres: string) {\n  const cnt = parseInt(addres.slice(2, 10), 16)\n  const el = jazzicon(24, cnt)\n  return $wrapNativeElement(el)()\n}\n\n\n\nconst $userConnectionStatus = (address: string) => {\n  return $row(style({ backgroundColor: pallete.background, borderRadius: '12px', alignItems: 'center', overflow: 'hidden' }))(\n    $row(style({ borderRadius: '12px', alignItems: 'center', padding: '0 10px' }))(\n      $text(address.slice(0, 6) + '...' + address.slice(-4))\n    ),\n    $row(style({ backgroundColor: pallete.middleground, height: '40px', alignItems: 'center', padding: '0 6px' }))(\n      $jazzicon(address)\n    )\n  )\n}\n\n\nconst $accountAlert = (title: string, $description: $Node) => {\n  return $alert(layoutSheet.column, layoutSheet.spacingTiny)(\n    $text(style({ fontWeight: 'bold' }))(title),\n    $column(style({ color: pallete.foreground, marginBottom: '6px' }))(\n      $description\n    )\n  )\n}\n\n\nconst $installMetamaskWarning = $accountAlert(\n  'Metamask is missing',\n  $node(\n    $text('This demo uses metamask in order to connect with a crypto wallet. you can get it from '),\n    $anchor(attr({ href: 'https://metamask.io/' }))(\n      $text('https://metamask.io/')\n    )\n  )\n)\n\n\nexport const $AccountConnectivity = () => component((\n  [requestWallet, requestWalletTeter]: Behavior<any, any>\n) => {\n\n  const $connectButton = $Button({ $content: $text('Connect Wallet') })({\n    click: requestWalletTeter(\n      map(() => {\n        return requestAccounts\n      }),\n      switchLatest\n    ) \n  })\n\n\n  const errorOrProvider = merge(noProviderAlert, awaitProvider)\n\n  return [\n    switchLatest(\n      map(provider => {\n\n        if (provider instanceof Error)\n          return $installMetamaskWarning\n\n        return switchLatest(\n          combine((requestNetRes, account) => {\n            if (account === undefined)\n              return $connectButton\n\n\n            if (requestNetRes.chainId !== 1)\n              return $accountAlert('Switch to Ethereum main network ', $text('Sending mainnet(ETH, BNB) tokens should be compatible, other tokens are incompatible'))\n\n            return $row(layoutSheet.spacing, style({ alignItems: 'center' }))(\n              $text(style({ color: pallete.foreground }))('Account: '),\n              $userConnectionStatus(account)\n            )\n          }, network, account)\n        )\n\n\n      }, errorOrProvider)\n    ),\n    {\n      account: requestWallet\n    }\n  ]\n})\n\n\n","\nexport enum SYMBOL {\n  EXRD = 'EXRD',\n  SUSHI = 'SUSHI',\n  USDC = 'USDC',\n  USDT = 'USDT',\n  ETH = 'ETH'\n}\n","import { CHAIN } from \"../provider\"\nimport { SYMBOL } from \"./symbol\"\n\nexport default {\n  [CHAIN.ETH]: {\n    [SYMBOL.EXRD]: \"0x6468e79a80c0eab0f9a2b574c8d5bc374af59414\",\n    [SYMBOL.SUSHI]: \"0x6b3595068778dd592e39a122f4f5a5cf09c90fe2\",\n    [SYMBOL.USDC]: \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\",\n    [SYMBOL.USDT]: \"0xdac17f958d2ee523a2206206994597c13d831ec7\",\n  }\n}\n\n\n","/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Interface } from \"@ethersproject/abi\";\nimport { Signer } from \"@ethersproject/abstract-signer\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport type { Provider } from \"@ethersproject/providers\";\nimport type { EthExrd, EthExrdInterface } from \"../EthExrd\";\n\nconst _abi = [\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"depositAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Approval\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"MinterAdded\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"MinterRemoved\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"OwnerAdded\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"OwnerRemoved\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Transfer\",\n    type: \"event\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"addMinter\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"addOwner\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n    ],\n    name: \"allowance\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"approve\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"balanceOf\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"burn\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"burnFrom\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"decimals\",\n    outputs: [\n      {\n        internalType: \"uint8\",\n        name: \"\",\n        type: \"uint8\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"subtractedValue\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"decreaseAllowance\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"addedValue\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"increaseAllowance\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"isMinter\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"isOwner\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"mint\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"mintersArray\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"mintersCount\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"name\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"ownersArray\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"ownersCount\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"removeMinter\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"renounceMinter\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"renounceOwner\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"symbol\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"totalSupply\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"recipient\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"transfer\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"sender\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"recipient\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"transferFrom\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n\nexport class EthExrd__factory {\n  static readonly abi = _abi;\n  static createInterface(): EthExrdInterface {\n    return new Interface(_abi) as EthExrdInterface;\n  }\n  static connect(\n    address: string,\n    signerOrProvider: Signer | Provider\n  ): EthExrd {\n    return new Contract(address, _abi, signerOrProvider) as EthExrd;\n  }\n}\n","/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Interface } from \"@ethersproject/abi\";\nimport { Signer } from \"@ethersproject/abstract-signer\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { Provider } from \"@ethersproject/providers\";\nimport type { EthSushi, EthSushiInterface } from \"../EthSushi\";\n\nconst _abi = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Approval\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"delegator\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"fromDelegate\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"toDelegate\",\n        type: \"address\",\n      },\n    ],\n    name: \"DelegateChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"delegate\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"previousBalance\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"newBalance\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"DelegateVotesChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"previousOwner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"newOwner\",\n        type: \"address\",\n      },\n    ],\n    name: \"OwnershipTransferred\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Transfer\",\n    type: \"event\",\n  },\n  {\n    inputs: [],\n    name: \"DELEGATION_TYPEHASH\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"DOMAIN_TYPEHASH\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n    ],\n    name: \"allowance\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"approve\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"balanceOf\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint32\",\n        name: \"\",\n        type: \"uint32\",\n      },\n    ],\n    name: \"checkpoints\",\n    outputs: [\n      {\n        internalType: \"uint32\",\n        name: \"fromBlock\",\n        type: \"uint32\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"votes\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"decimals\",\n    outputs: [\n      {\n        internalType: \"uint8\",\n        name: \"\",\n        type: \"uint8\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"subtractedValue\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"decreaseAllowance\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"delegatee\",\n        type: \"address\",\n      },\n    ],\n    name: \"delegate\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"delegatee\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"nonce\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"expiry\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"uint8\",\n        name: \"v\",\n        type: \"uint8\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"r\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"s\",\n        type: \"bytes32\",\n      },\n    ],\n    name: \"delegateBySig\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"delegator\",\n        type: \"address\",\n      },\n    ],\n    name: \"delegates\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"getCurrentVotes\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"blockNumber\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getPriorVotes\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"addedValue\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"increaseAllowance\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_to\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"_amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"mint\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"name\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    name: \"nonces\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    name: \"numCheckpoints\",\n    outputs: [\n      {\n        internalType: \"uint32\",\n        name: \"\",\n        type: \"uint32\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"owner\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"renounceOwnership\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"symbol\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"totalSupply\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"recipient\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"transfer\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"sender\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"recipient\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"transferFrom\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"newOwner\",\n        type: \"address\",\n      },\n    ],\n    name: \"transferOwnership\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n\nexport class EthSushi__factory {\n  static readonly abi = _abi;\n  static createInterface(): EthSushiInterface {\n    return new Interface(_abi) as EthSushiInterface;\n  }\n  static connect(\n    address: string,\n    signerOrProvider: Signer | Provider\n  ): EthSushi {\n    return new Contract(address, _abi, signerOrProvider) as EthSushi;\n  }\n}\n","export const AddressZero = \"0x0000000000000000000000000000000000000000\"\n\nexport const TOKENS_BSC = [\n  {\n    name: \"Bitcoin\",\n    symbol: 'BTC',\n    decimals: 18,\n    address: \"0xd19A92C0f37880CD3D19CBC8Bb2636E7051f7d89\",\n  },\n  {\n    name: \"Ethereum\",\n    symbol: 'ETH',\n    decimals: 18,\n    address: \"0x6E9eef21FE69894f088bf6d27Dc36aa74898BA8c\",\n  },\n  {\n    name: \"Binance Coin\",\n    symbol: 'BNB',\n    decimals: 18,\n    address: AddressZero,\n  },\n  {\n    name: \"USD Gambit\",\n    symbol: 'USDG',\n    decimals: 18,\n    address: '0xE14F46Ee1e23B68003bCED6D85465455a309dffF'\n  },\n  {\n    name: \"USD Binance\",\n    symbol: 'BUSD',\n    decimals: 18,\n    address: \"0xae7486c680720159130b71e0f9EF7AFd8f413227\"\n  },\n  {\n    name: \"Test Token\",\n    symbol: 'TST',\n    decimals: 8,\n    address: \"0x341F41c455fB3E08A1078D1a9c4dAd778c41E7C4\",\n  }\n]\n\n","import { awaitPromises, combine, map, skipRepeatsWith, switchLatest } from \"@most/core\"\nimport { account } from \"./account\"\nimport { awaitProvider, CHAIN, metamaskEvent, providerAction } from \"./provider\"\nimport contract from \"./address/contract\"\nimport { Provider } from \"@ethersproject/providers\"\nimport { Address } from \"./types\"\nimport { fromCallback } from \"@aelea/core\"\nimport { state } from \"@aelea/ui-components\"\nimport { Stream } from \"@most/types\"\nimport { EthExrd__factory, EthSushi__factory } from \"./ethers-contracts\"\nimport { SYMBOL } from \"./address/symbol\"\nimport { bnToHex, formatFixed } from \"./utils\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Contract, ContractTransaction } from \"@ethersproject/contracts\"\nimport { Signer } from \"@ethersproject/abstract-signer\"\nimport { AddressZero } from \"./address/token\"\n\nconst UPDATE_CONTRACT_INTERVAL = 1350\n\nconst formatBN = map((bnb: BigNumber) => formatFixed(bnb.toBigInt()))\nconst skipRepeatedBns = skipRepeatsWith((bn1: BigNumber, bn2: BigNumber) => bn1.eq(bn2))\nexport const mainchainBalance = providerAction(UPDATE_CONTRACT_INTERVAL, combine(async (accountHash, provider) => provider.w3p.getBalance(accountHash), account))\nexport const mainchainBalanceReadable = formatBN(mainchainBalance)\n\nexport interface IContractBase<T extends Contract> {\n  address: string\n\n  balance: Stream<BigNumber>\n  balanceReadable: Stream<string>\n\n  contract: Stream<T>\n  listen: <A>(eventName: string) => Stream<A>\n}\n\nexport interface IContract<T extends Contract> extends IContractBase<T> {\n  transfer(to: string, amount: bigint): Stream<ContractTransaction>\n}\n\n\n\ntype ConnectFactoryFn<T extends Contract> = (address: Address, signerOrProvider: Signer | Provider) => T\n\nfunction baseActions<T extends Contract>(address: Address, contractFactory: ConnectFactoryFn<T>): IContractBase<T> {\n\n  const contract = map(provider => {\n\n    const signer = provider.w3p.getSigner()\n\n    return contractFactory(address, signer)\n  }, awaitProvider)\n\n  const listen = (eventName: string) => switchLatest(\n    map(({ contract }) => {\n      return fromCallback(cb => {\n        contract.on(eventName, cb)\n\n        return () => contract.off(eventName, cb)\n      })\n    }, accountAndContract)\n  )\n\n  const accountAndContract = state.combineState({ contract, account })\n\n  const balanceSource = combine(async ({ contract, account }) => {\n    return contract.balanceOf(account)\n  }, accountAndContract)\n\n  const balance = skipRepeatedBns(providerAction(UPDATE_CONTRACT_INTERVAL, balanceSource))\n  const balanceReadable = formatBN(balance)\n\n  return { balance, balanceReadable, contract, address, listen }\n}\n\n\nexport const ethContracts = {\n  MAINCHAIN: {\n    address: AddressZero,\n    balance: skipRepeatedBns(mainchainBalance),\n    balanceReadable: mainchainBalanceReadable,\n    contract: null as any, // look into a way to make a compatible interface with mainnet\n    listen: metamaskEvent,\n    transfer(to: string, amount: bigint) {\n      const accountAndContract = state.combineState({ awaitProvider, account })\n      const request = map(async (w3) => {\n        // txHash is a hex string\n        // As with any RPC call, it may throw an error\n        const txHash = await w3.awaitProvider.metamask.request({\n          method: 'eth_sendTransaction',\n          params: [\n            { from: w3.account, to, value: bnToHex(amount) },\n          ],\n        })\n        return txHash\n      }, accountAndContract)\n\n      const transferSignal = awaitPromises(request)\n      return transferSignal\n    }\n  },\n  [SYMBOL.EXRD]: {\n    ...baseActions(contract[CHAIN.ETH].EXRD, EthExrd__factory.connect),\n    address: contract[CHAIN.ETH].EXRD,\n    transfer(to: string, amount: bigint) {\n      const transferSignal = awaitPromises(map(cont => cont.transfer(to, BigNumber.from(amount)), this.contract))\n      return transferSignal\n    }\n  },\n  [SYMBOL.SUSHI]: {\n    ...baseActions(contract[CHAIN.ETH].SUSHI, EthSushi__factory.connect),\n    address: contract[CHAIN.ETH].SUSHI,\n    transfer (to: string, amount: bigint) {\n      const transferSignal = awaitPromises(map(cont => cont.transfer(to, BigNumber.from(amount)), this.contract))\n      return transferSignal\n    }\n  },\n  [SYMBOL.USDT]: {\n    ...baseActions(contract[CHAIN.ETH].USDT, EthSushi__factory.connect),\n    address: contract[CHAIN.ETH].USDT,\n    transfer (to: string, amount: bigint) {\n      const transferSignal = awaitPromises(map(cont => cont.transfer(to, BigNumber.from(amount)), this.contract))\n      return transferSignal\n    }\n  },\n} as const\n\n\n\n\n","import { ethContracts } from \"./api/contract\"\nimport { $eth, $usdt, $xrd, $sushi } from \"./$elements\"\nimport { SYMBOL } from \"./api/address/symbol\"\nimport { Token } from \"./types\"\nimport { Contract } from \"@ethersproject/contracts\"\n\n\nexport const tokenList: Token<Contract>[]= [\n  { $icon: $eth, contract: ethContracts.MAINCHAIN, label: 'Ethereum', symbol: SYMBOL.ETH },\n  { $icon: $usdt, contract: ethContracts.USDT, label: 'Tether', symbol: SYMBOL.USDT },\n  { $icon: $sushi, contract: ethContracts.SUSHI, label: 'Sushi', symbol: SYMBOL.SUSHI },\n  { $icon: $xrd, contract: ethContracts.EXRD, label: 'e-Radix', symbol: SYMBOL.EXRD },\n]","import { $text, Behavior, component, event, INode, O, style } from \"@aelea/core\"\nimport { $VirtualScroll, layoutSheet, ScrollResponse, $column, $TextField, ScrollRequest } from \"@aelea/ui-components\"\nimport { constant, empty, map, multicast, startWith, switchLatest } from \"@most/core\"\nimport { $tokenLabel } from \"../$elements\"\nimport { Token } from \"../types\"\n\nfunction objectValuesContainsText<T>(obj: T, text: string) {\n  const match = Object.values(obj).find(value => {\n    return typeof value === 'string' && value.toLocaleLowerCase().indexOf(text.toLocaleLowerCase()) !== -1\n  })\n\n  return match !== undefined\n}\n\nexport const $TokenList = <T extends Readonly<Token>>(list: readonly T[]) => component((\n  [choose, chooseTether]: Behavior<INode, T>,\n  [scrollRequest, scrollRequestTether]: Behavior<ScrollRequest, ScrollRequest>,\n  [filterListInput, filterListInputTether]: Behavior<string, string>,\n\n) => {\n\n  const filterWithInitial = startWith('', filterListInput)\n\n  return [\n    $column(layoutSheet.spacingBig)(\n      $TextField({ label: 'Filter', value: empty() })({\n        change: filterListInputTether()\n      }),\n\n      switchLatest(\n        map(filter =>\n          $VirtualScroll({\n            containerOps: O(layoutSheet.spacing, style({ width: '300px' })),\n            dataSource: map((): ScrollResponse => {\n              const $items = list.filter(obj => objectValuesContainsText(obj, filter)).map(token => {\n                const changeTokenBehavior = chooseTether(event('click'), constant(token))\n\n                return changeTokenBehavior($tokenLabel(token, $text(token.contract.balanceReadable)))\n              })\n\n              return { $items, pageSize: 20 }\n            }, multicast(scrollRequest))\n          })({\n            scrollRequest: scrollRequestTether()\n          })\n        , filterWithInitial)\n      )\n      \n    ),\n\n    { choose }\n  ]\n})","import { attrBehavior, Behavior, component, event, INode, O, style } from \"@aelea/core\"\nimport { $row, layoutSheet, $icon, $Popover, $Field, $column } from \"@aelea/ui-components\"\nimport { constant, map, merge, multicast, switchLatest } from \"@most/core\"\nimport { Stream } from \"@most/types\"\nimport { Token } from \"../types\"\nimport { tokenList } from '../state'\nimport { $caretDown } from \"../$elements\"\nimport { $TokenList } from \"./$tokenList\"\n\n\n\ninterface CoinInput {\n  token: Stream<Token>\n  changeInput: Stream<string>\n  // field: Field\n}\n\n\nexport const $TokenInput = ({ token, changeInput }: CoinInput) => component((\n  [change, changeTether]: Behavior<string, string>,\n  [switchTokenPopover, switchTokenPopoverTether]: Behavior<INode, PointerEvent>,\n  [switchToken, switchTokenTether]: Behavior<Token, Token>,\n) => {\n\n  const $tokenList = $TokenList(tokenList)({\n    choose: switchTokenTether(multicast)\n  })\n\n  const value = merge(constant('', token), changeInput)\n\n  const selectedBalance = switchLatest(\n    map(token => {\n      return token.contract.balanceReadable\n    }, token)\n  )\n\n  return [\n    $row(layoutSheet.spacing, style({ alignItems: 'center', flex: 1 }))(\n    \n      $Popover({\n        $$popContent: constant($tokenList, switchTokenPopover),\n        dismiss: switchToken\n        // overlayBackgroundColor: pallete.background\n      })(\n        $row(switchTokenPopoverTether(event('click')), layoutSheet.spacingSmall, style({ alignItems: 'center', cursor: 'pointer' }))(\n          switchLatest(map(t => style({ width: '48px', height: '48x' }, t.$icon), token)),\n          $icon({ $content: $caretDown, width: '10px', viewBox: '0 0 32 19.43' })\n        )\n      )({}),\n\n      $column(\n        $Field({\n          value,\n          fieldStyle: { borderBottomColor: 'transparent', fontWeight: 'bolder', fontSize: '1.55em' },\n          inputOp: O(\n            attrBehavior(\n              map(placeholder => {\n                return { placeholder }\n              }, selectedBalance)\n            )\n          )\n        })({\n          change: changeTether()\n        }),\n      )\n    ),\n\n    { change, switchToken }\n  ]\n})","\nimport { $text, attr, Behavior, component, event, IBranch, O, style } from '@aelea/core'\nimport { state, $column, $Slider, layoutSheet, $Popover, $row, $Field, $Button } from '@aelea/ui-components'\nimport { switchLatest, merge, constant, snapshot, map, sample, awaitPromises, startWith, filter, mergeArray, multicast } from '@most/core'\nimport { $TokenInput } from './$TokenInput'\nimport { account } from '../api/account'\nimport { ITransaction } from '../api/types'\nimport { $gaugeMetric, $labeledDivider } from '../$elements'\nimport { tokenList } from '../state'\nimport { Token } from '../types'\nimport { formatFixed, isAddress, parseFixed } from '../api/utils'\nimport { Contract } from '@ethersproject/contracts'\n\nexport const $CreateTransaction = component((\n  [inputValueChange,     inputValueChangeTether]: Behavior<string, string>,\n  [clickOnDivide,        clickOnDivideTether]: Behavior<IBranch, PointerEvent>,\n  [divideBySlider,       divideBySliderTether]: Behavior<number, number>,\n  [switchTokenSource,    switchTokenSourceTether]: Behavior<Token<Contract>, Token<Contract>>,\n  [destination,          destinationTether]: Behavior<string, string>,\n  [send,                 sendTether]: Behavior<PointerEvent, ITransaction>,\n  [clipboardInput,       clipboardInputTether]: Behavior<IBranch, string>,\n) => {\n\n  const initialTokenValue = tokenList[0]\n  const token = state.replayLatest(switchTokenSource, initialTokenValue)\n  const balance = switchLatest(map(t => t.contract.balance, token))\n\n  const divideBalanceReadableBySlider = snapshot((balance, divide) => {\n    const balanceBN = balance.toBigInt()\n    const divWithBigInt = balanceBN / 100n * (BigInt(Math.round(divide * 100)))\n\n    return { valueReadable: formatFixed(divWithBigInt), value: divWithBigInt }\n  }, balance, divideBySlider)\n\n  const divideByInput = snapshot((balance, inputValue) => {\n    return Number(formatFixed(parseFixed(inputValue))) / Number(formatFixed(balance.toBigInt()))\n  }, balance, inputValueChange)\n\n  const transaction = multicast(\n    state.combineState<ITransaction>({\n      token,\n      from: account,\n      to: merge(clipboardInput, destination),\n      value: mergeArray([\n        map(x => x.value, divideBalanceReadableBySlider),\n        map(parseFixed, inputValueChange)\n      ])\n    })\n  )\n\n  const sendTransaction = sample(transaction, send)\n\n  const sliceAmount = state.replayLatest(mergeArray([divideByInput, divideBySlider]), 0)\n\n\n  const $allocateDivisionPopover = $column(style({ padding: '0 0 10px' }))(\n    $Slider({ value: sliceAmount  })({\n      change: divideBySliderTether()\n    })\n  )\n\n  return [\n\n    $column(layoutSheet.spacingBig)(\n      $Popover({\n        $$popContent: constant($allocateDivisionPopover, clickOnDivide),\n        padding: 50\n      })(\n        $row(layoutSheet.spacing, style({ alignItems: 'center' }))(\n          $TokenInput({ token: token, changeInput: map(x => x.valueReadable, divideBalanceReadableBySlider) })({\n            change: inputValueChangeTether(),\n            switchToken: switchTokenSourceTether()\n          }),\n          clickOnDivideTether(event('click'))(\n            $gaugeMetric({ value: sliceAmount, size: '36px', styleCSS: { height: '100%', cursor: 'pointer' } })\n          )\n        )\n      )({}),\n\n      style({ margin: '0 -30px' })(\n        $labeledDivider('Send To'),\n      ),\n\n      $Field({\n        value: startWith('', clipboardInput),\n        fieldStyle: { borderBottomColor: 'transparent', fontWeight: 'bolder', fontSize: '88%' },\n        inputOp: O(\n          clipboardInputTether(\n            event('focus'),\n            map(async focusEvent => navigator.clipboard.readText().catch(() => '')),\n            awaitPromises,\n            filter(clipBoard => isAddress(clipBoard)),\n          ),\n          attr({ placeholder: 'Place Address' }),\n          style({ textAlign: 'center' })\n        )\n      })({\n        change: destinationTether()\n      }),\n\n      $row(style({ placeContent: 'center' }))(\n        $Button({\n          $content: $text('Send'),\n          disabled: startWith(true, map(s => {\n            return isAddress(s.to) === false || s.value <= 0n\n          }, transaction))\n        })({\n          click: sendTether()\n        })\n      )\n    ),\n\n    {\n      send: sendTransaction\n    }\n  ]\n})\n ","import { filter, map, merge, now, switchLatest, tap } from \"@most/core\";\nimport { $element, attr, component, event, style, stylePseudo, O } from '@aelea/core';\nimport { pallete } from \"@aelea/ui-components-theme\";\nexport const $Slider = ({ value, step = .01 }) => component(([change, changeTether]) => {\n    const sliderThunmbStyle = {\n        backgroundColor: pallete.primary,\n        borderRadius: '50%',\n        width: '25px',\n        height: '25px',\n        appearance: 'none',\n        cursor: 'grab'\n    };\n    return [\n        $element('input')(style({ width: '100%', height: '3px', margin: '0', transition: 'opacity .2s', appearance: 'none', outline: 'none', background: pallete.message }), stylePseudo('::-webkit-slider-thumb', sliderThunmbStyle), \n        // stylePseudo('::-moz-range-thumb', sliderThunmbStyle),\n        changeTether(event('input'), map(evt => {\n            const target = evt.target;\n            return Number(target.value);\n        })), attr({ type: 'range', min: 0, max: 1, step }), O(map(node => merge(now(node), filter(() => false, tap(val => {\n            // applying by setting `HTMLInputElement.value` imperatively(only way known to me)\n            node.element.value = String(val);\n        }, value)))), switchLatest))(),\n        { change }\n    ];\n});\n//# sourceMappingURL=$Slider.js.map","\nimport { Behavior, component, style } from '@aelea/core'\nimport { $card, $column, elevation2, layoutSheet } from '@aelea/ui-components'\nimport { map, merge, mergeArray, now, switchLatest } from '@most/core'\nimport { fadeIn } from '../../../components/transitions/enter'\nimport { $Confirmation } from './components/$Confirmation'\nimport { $Transaction } from './components/$Transaction'\nimport { ITransaction } from './api/types'\nimport { $AccountConnectivity } from './components/$ConnectAccount'\nimport { $CreateTransaction } from './components/$CreateTransaction'\nimport { ContractTransaction } from '@ethersproject/contracts'\n\n\n\nexport interface ExchangeUnit {\n  symbol: string\n  exchangeScale: number\n\n  /** Orders of magnitude between the unit of account and the base unit */\n  accountScale: number\n  /**\n   * Number of orders of magnitude between this unit and the base unit\n   * - Defines the unit of the asset (e.g. ether, gwei, or wei, in the case of the asset ETH)\n   * - By default, this should be 0, the base unit (typically the smallest denomination of the asset)\n   */\n  decimals: number\n}\n\n\n\nexport const $EtherSwapExample = component((\n  [send, sendTether]: Behavior<ITransaction, ITransaction>,\n  [backToMainClick, backToMainClickClick]: Behavior<PointerEvent, PointerEvent>,\n  [txHash, sampleTxHash]: Behavior<ContractTransaction, ContractTransaction>,\n  [account, accountTether]: Behavior<string, string>,\n) => {\n\n  const initialSwapCard = merge(now(null), backToMainClick)\n\n  return [\n    $column(layoutSheet.spacingBig, style({ placeContent: 'center', alignItems: 'center' }))(\n      $AccountConnectivity()({\n        account: accountTether()\n      }),\n      \n      $card(elevation2, style({ borderRadius: '30px', padding: '30px', maxWidth: '470px' }))(\n        switchLatest(\n          mergeArray([\n            map(() => $CreateTransaction({\n              send: sendTether()\n            }), initialSwapCard ),\n            map(transaction =>\n              fadeIn(\n                $Confirmation({ transaction })({\n                  confirm: sampleTxHash(),\n                  back: backToMainClickClick()\n                })\n              ),\n            send\n            ),\n            map(tx =>\n              fadeIn(\n                $Transaction(tx.hash)({\n                  close: backToMainClickClick(),\n                  \n                })\n              ),\n            txHash\n            )\n          ])\n        )\n      ),\n\n    ),\n    \n  ]\n})\n\n\n","import { event, $text, Behavior, component, INode, style } from \"@aelea/core\"\nimport { $Button, $column, $row, layoutSheet } from \"@aelea/ui-components\"\nimport { ContractTransaction } from \"@ethersproject/contracts\"\nimport { awaitPromises, snapshot, switchLatest } from \"@most/core\"\nimport { $labeledDivider, $tokenLabel } from \"../$elements\"\nimport { $anchor } from \"../../../../elements/$common\"\nimport { awaitProvider } from \"../api/provider\"\nimport { ITransaction } from \"../api/types\"\nimport { formatFixed } from \"../api/utils\"\n\nexport interface IConfirmation {\n  transaction: ITransaction\n}\n\n\nexport const $Confirmation = (swapState: IConfirmation) => component((\n  [confirm, confirmTether]: Behavior<any, ContractTransaction>,\n  [back,    backTether]: Behavior<INode, PointerEvent>,\n) => {\n\n  return [\n    $column(layoutSheet.spacingBig)(\n      $text(style({ textAlign: 'center', fontSize: '25px' }))(\n        'Review Transaction'\n      ),\n\n      $column(layoutSheet.spacingSmall, style({ alignItems: 'center' }))(\n        $tokenLabel(swapState.transaction.token),\n        // $icon({ $content: swapState.transaction.token.$icon, fill: pallete.message, width: '42px', viewBox: '0 0 32 32' }),\n        $text(style({ fontWeight: 'bold' }))(\n          formatFixed(swapState.transaction.value)\n        )\n      ),\n\n      style({ margin: '0 -30px' })(\n        $labeledDivider('Send To')\n      ),\n\n      $text(style({ fontSize: '75%' }))(swapState.transaction.to),\n\n      $row(layoutSheet.spacing, style({ placeContent: 'center', alignItems: 'center', paddingTop: '25px' }))(\n        $anchor(backTether(event('click')))(\n          $text('Back')\n        ),\n        $Button({ $content: $text('Send') })({\n          click: confirmTether(\n            snapshot(async (provider) => {\n              const newLocal = swapState.transaction.token.contract.transfer(swapState.transaction.to, swapState.transaction.value)\n              return newLocal\n            }, awaitProvider),\n            awaitPromises,\n            switchLatest,\n          )\n        })\n      )\n\n    ),\n    { confirm, back }\n  ]\n})\n"],"sourceRoot":""}